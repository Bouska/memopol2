This describes how to setup the mempol2 dev environment
=======================================================

Install the base dependencies
=============================

Install the base python virtualenv tools:

    sudo apt-get install python-setuptools python-dev libxml2-dev libxslt1-dev libfreetype6-dev libpng12-dev python-pip
    sudo pip install virtualenv
    sudo pip install virtualenvwrapper


Setup your virtual environment
===============================

If you don't alreasy use virtualenv/virtualenvwrapper
-----------------------------------------------------

Create a directory to hold the virtual environments:

    mkdir ~/.virtualenvs

Add to your .bashrc (or equivalent) the following lines:

    export WORKON_HOME=$HOME'/.virtualenvs'
    source /usr/local/bin/virtualenvwrapper.sh

Then run the following command:

    source ~/.bashrc

This will end up creating (relatively large) folders in ~/.virtualenvs
where all the projet dependencies will be installed.

Create the virtualenv for memopol:

    mkvirtualenv --no-site-packages --distribute memopol2

Your command prompt should now begin by (memopol2)

If you already use virtualenv/virtualenvwrapper
-----------------------------------------------

Create the virtualenv for memopol and workon it:

    mkvirtualenv --no-site-packages --distribute memopol2

Installation
------------

Install memopol2's depdendencies:

    pip install -r requirements.txt

If you have errors with matplotlib or numpy do a:

    pip install numpy==1.5.1

Then

    pip install -r requirements.txt


Run the "migration" scripts
===========================

Run syncdb then migrate, this will import the fixtures. Warning: this take a
*LOTS* of time, arround 25min.

    python manage.py syncdb
    python manage.py migrate

If you have a error while running migrate telling you that the table "reps" (or
any other table) doesn't exist. Try doing those commands in this order instead:

    python manage.py migrate reps
    python manage.py migrate meps
    python manage.py migrate mps
    python manage.py migrate votes

Install the default welcome message (optional)
==============================================

   python manage.py loaddata welcome

Run the server
==============

    cd ../memopol2
    python manage.py runserver 8080

Your application is available on http://localhost:8080/
